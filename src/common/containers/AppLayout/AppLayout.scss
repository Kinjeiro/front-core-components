@import "../../app-styles/vars";

// Application's layout

.AppLayout {
  color: #333;
  background-color: #f7f7f7;
  font-family: "Roboto Regular", Roboto;

  .insp-logo-frame {
    display: -webkit-flex;
    display: -moz-flex;
    display: flex;
    -webkit-flex-direction: column;
    -moz-flex-direction: column;
    flex-direction: column;
    -webkit-justify-content: center;
    -moz-justify-content: center;
    justify-content: center;
    -webkit-animation: fadein 436ms;
    -moz-animation: fadein 436ms;
    animation: fadein 436ms;
    height: 98%;
  }
  .insp-logo-frame-img {
    -webkit-align-self: center;
    -moz-align-self: center;
    align-self: center;
  }

  .insp-logo {
    color: #00b8d4;
    border-radius: 50%;
    -webkit-align-self: center;
    -moz-align-self: center;
    align-self: center;
  }

  .ipl-progress-indicator {
    background-color: #f5f5f5;
    width: 100%;
    height: auto;
    position: fixed;
    opacity: 1;
    pointer-events: none;
    -webkit-transition: opacity cubic-bezier(.4, 0, .2, 1) 436ms;
    -moz-transition: opacity cubic-bezier(.4, 0, .2, 1) 436ms;
    transition: opacity cubic-bezier(.4, 0, .2, 1) 436ms;
    z-index: 9999;
  }

  .ipl-progress-indicator-head {
    background-color: #00dddd;
    height: 2px;
    overflow: hidden;
    position: relative;
  }
  .ipl-progress-indicator .first-indicator, .ipl-progress-indicator .second-indicator {
    background-color: #00afaf;
    bottom: 0;
    left: 0;
    right: 0;
    top: 0;
    position: absolute;
    -webkit-transform-origin: left center;
    -moz-transform-origin: left center;
    transform-origin: left center;
    -webkit-transform: scaleX(0);
    -moz-transform: scaleX(0);
    transform: scaleX(0);
  }
  .ipl-progress-indicator .first-indicator {
    -webkit-animation: first-indicator 2000ms linear infinite;
    -moz-animation: first-indicator 2000ms linear infinite;
    animation: first-indicator 2000ms linear infinite;
  }
  .ipl-progress-indicator .second-indicator {
    -webkit-animation: second-indicator 2000ms linear infinite;
    -moz-animation: second-indicator 2000ms linear infinite;
    animation: second-indicator 2000ms linear infinite;
  }

  width: 100%;
  height: 100%;

  visibility: visible !important;

  .loading {
    visibility: visible !important;
  }
  .page-layout {
    .not-loading {
      visibility: hidden;
    }
    .ui.dimmer .ui.loader {
      color: #00dddd;
    }
    .ui.segment.dimmable {
      padding: 0;
      border: 0;
    }
    height: 100%;
    // patch Semantic-UI .pusher
    .pusher {

    }
    .pusher,
    .dimmable {
      height: 100%;
      /*    overflow: scroll;*/
    }
    .dimmable {
      cursor: pointer;
    }

    .pusher > .segment {
      padding: 0;
    }

    .main-show-flex {
      padding-bottom: 84px;
      //flex-direction: column;
      min-height: 100%;
      height: 100%;

      .main-hide {
        display: none;
      }
      .main-show {
        -webkit-animation: fadein 197ms;
        -moz-animation: fadein 197ms;
        animation: fadein 197ms;
        display: block;
      }

      .main-content-dimmer {
        background-color: #fbfbfb;
      }
    }

    // limit max-width of the .pusher class -> main is limited too
    .ui.visible.thin.left.sidebar ~ .pusher {
      @include respond-to('lg') {
        max-width: calc(100% - #{$sidebar-size});
        -webkit-transform: translate3d(#{$sidebar-size}, 0, 0);
        transform: translate3d(#{$sidebar-size}px, 0, 0);
      }
      @include respond-to('only-sm', 'only-md', 'xs') {
        overflow: hidden;
      }
    }

    .main-content {
      display: flex;
      flex-grow: 1;
      min-height: 100%;
      height: 100%;
      //padding-top: 30px;
      padding-left: 1rem;
      padding-right: 1rem;

      .ui.container {

        @include respond-to('xs') {
          // margin - just to fill exmpty space
          margin: 0 auto !important;
        }

        @include respond-to('sm', 'xs') {
          width: 100% !important;
        }
        .ui.button, .ui.icon {
          @include respond-to('xs') {
            font-size: 0.857rem;
          }
        }
        h3.ui.header {
          .ui.image {
            font-size: 1rem;
            @include respond-to('sm') {
              font-size: 1.1rem;
            }
            @include respond-to('lg') {
              font-size: 1.2rem;
            }
          }
        }
        .grid {
          //position: relative;
          //min-width: 100%;
          //min-height: 100%;
        }
      }
    }
  }


  .fartuna {
    height: 100%;
    padding-top: #{$header-size-sm};

    @include respond-to('md') {
      padding-top: #{$header-size};
    }
  }

  .fartuna-navigation {
    position: fixed;
    width: 100%;
    z-index: 100;

    height: $height-tabs-menu;

    background: #fff;
    border-bottom: 1px solid #dbe2e8;
    box-shadow: inset 0 0 0 0 #dbe2e8, 0 2px 1px 0 rgba(47, 61, 73, 0.05);

    .ui.buttons {
      width: 100%;
    }
    .ui.button {
      padding: 0;
    }

    button {
      color: #000;
      background: $color_grey;
      border-radius: 0;
      opacity: 0.6;
    }
    .active {
      color: #fff;
      //box-shadow: inset 0 0 0 0 $color_blue, 0 1px 0px 0 $color_blue;
      background: $color_primary;
      opacity: 1;
    }
    /*    button:not(:nth-child(1)){
          border-left: 1px solid lightgray !important;
        }*/
    .ui.buttons {
      height: 100%;
    }
  }

  .fartuna-main {
    overflow: auto;
    height: 100%;

    @media (min-width: 768px) {
      padding-left: $content-offset;
      padding-right: $content-offset;
    }

    @include respond-to('md') {
      padding-top: $height-tabs-menu;
    }
  }
  .fartuna-main.with-nav {
    height: calc(100% - 50px);
  }


}

.desktop-display {
  display: none;
  @include respond-to('lg') {
    display: inline;
  }
}

.mobile-display {
  display: inline;
  @include respond-to('lg') {
    display: none;
  }
}

.ui.segment {
  height: 100%;
}


.AppLayout {
  &__notMobile {
    /*
    https://stackoverflow.com/questions/36855473/position-fixed-not-working-is-working-like-absolute
      The issue here lies with your .content-container wrapper class, which has a CSS declaration of webkit-transform: translate3d(0,0,0). The transform declaration, as this answer illustrates, changes the positioning context from the viewport to the rotated element, which essentially means that your fixed element behaves as if it were absolutely positioned. Here's an example showing the difference between a fixed element inside a transformed div and a fixed element outside of that div.

      Из-за этого после трансформа не правильно используется наш fixed

      .pushable > .pusher {
        position: relative;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        overflow: hidden;
        min-height: 100%;
        transition: transform 500ms ease;
        z-index: 2;


      .pushable:not(body) {
        transform: translate3d(0, 0, 0);
      }
    */
    &.pushable {
      &:not(body) {
        //transform: translate3d(0, 0, 0);
        transform: none;
      }

      & > .pusher {
        //-webkit-backface-visibility: hidden;
        //backface-visibility: hidden;
        //transition: transform 500ms ease;
        -webkit-backface-visibility: visible;
        backface-visibility: visible;
        transition: none;
      }
    }
  }

  &__content {
    height: 100%;
  }


  //margin: 0;
  //padding: 0;
  //overflow: hidden;
}
